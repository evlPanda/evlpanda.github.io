---
layout: post
title: Tricky EFFDT Logic in Query
date: 2009-01-07 07:54:00.000000000 +11:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Query EFFDT
tags: []
meta:
  blogger_blog: capital-it.blogspot.com
  blogger_author: Michael Nitschke
  blogger_0c9a3d51488c214aefd1a54a659341d6_permalink: '930686581622911141'
author:
  login: evlpanda
  email: m.nitschke@gmail.com
  display_name: Michael Nitschke
  first_name: ''
  last_name: ''
---
<p>Sometimes you want to write something like the following in Query<br />(code snippet for outer join + effdt solution btw):</p>
<p><span style="font-size:85%;"><span style="font-family:courier new;">AND K.PASSWORD (+) = F.PASSWORD<br />AND </span><br /><span style="font-family:courier new;">   (K.EFFDT IS NULL</span><br /><span style="font-family:courier new;">   OR K.EFFDT = </span><br /><span style="font-family:courier new;">      (SELECT MAX( M.EFFDT)</span><br /><span style="font-family:courier new;">      FROM PS_UQ_CHK_SIG_FILE M</span><br /><span style="font-family:courier new;">      WHERE M.EFFDT &lt;= SYSDATE))</span></span></p>
<p>It would appear that Query doesn't let you, but if you do things in the correct order you <span style="font-style:italic;">can </span>force it to do something it was specifically designed to <i>not</i> do. : )</p>
<ol>
<li>Add your subquery</li>
<li>Allow the default Effdt Logic to be added by PeopleSoft/Query</li>
<li>Add a new expression "max(effdt)" and add as a selected field.<br /><span style="font-weight:bold;">Note<span style="font-weight:bold;">: do not add the alias, just <i>effdt.</i></span></span></li>
<li>Correct the Criteria.</li>
</ol>
<p>Some subqueries don't use effdt logic, the important step is to not add the alias in the expression, until you've finished all the criteria.</p>
