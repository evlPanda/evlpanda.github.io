---
layout: post
title: Stealth Migrations
date: 2012-08-22 01:53:00.000000000 +10:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  blogger_blog: capital-it.blogspot.com
  blogger_author: Michael Nitschke
  blogger_0c9a3d51488c214aefd1a54a659341d6_permalink: '6445075922965063937'
author:
  login: evlpanda
  email: m.nitschke@gmail.com
  display_name: Michael Nitschke
  first_name: ''
  last_name: ''
---
<p>
<div class="MsoNormal">Run the SQL below to check for any Record Fields that may be contained in NS_XXX records. These will need to be replaced/removed to ensure they do not get migrated to the CS9 environments (stealth migration).</div>
<p>select distinct r.projectname, r.objectvalue1, rf.fieldname from<br />(select distinct projectname, objectvalue1<br /> from psprojectitem p<br /> where p.objectvalue1 in (select distinct objectvalue1 prj1<br />                          from psprojectitem prj1<br />                          where prj1.projectname like 'NS%'<br />                          and prj1.objecttype = 0<br />                          and prj1.projectname = p.projectname)<br />) r,<br />psrecfield rf<br />where r.objectvalue1 = rf.recname<br />and rf.fieldname in (select distinct rf.fieldname<br />                     from psrecfieldall rf<br />                     where rf.recname in (select distinct b.objectvalue1<br />                                          from psprojectitem b<br />                                          where b.objecttype = 0)<br />                    and rf.fieldname not like 'NS%'<br />minus<br />select d1.fieldname from psdbfield@NSFLDCHK.UNSW.EDU.AU d1);</p>
