---
layout: post
title: Content Reference Menu Path SQL
date: 2012-01-31 23:14:00.000000000 +11:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Component
- http://schemas.google.com/blogger/2008/kind#post
- Menu
- Path
tags: []
meta:
  blogger_blog: capital-it.blogspot.com
  blogger_author: Michael Nitschke
  blogger_0c9a3d51488c214aefd1a54a659341d6_permalink: '5155400969965351044'
author:
  login: evlpanda
  email: m.nitschke@gmail.com
  display_name: Michael Nitschke
  first_name: ''
  last_name: ''
---
<p>How to find a "lost"content reference.</p>
<p><i>(Note that the 'Valid From Date' of the parent Folder must be less than a content reference/common mistake post migration)</i></p>
<p>Graciously lifted from Jim's PeopleSoft Journal (check out his book too).<br /><a href="http://jjmpsj.blogspot.com.au/2007/12/query-for-component-andor-cref.html">http://jjmpsj.blogspot.com.au/2007/12/query-for-component-andor-cref.html</a></p>
<p>WITH PORTAL_REGISTRY AS (<br />SELECT RTRIM(REVERSE(SYS_CONNECT_BY_PATH(REVERSE(PORTAL_LABEL), ' &gt;&gt; ')), ' &gt;&gt; ') PATH<br />     , LEVEL LVL<br />  FROM PSPRSMDEFN<br /> WHERE PORTAL_NAME = 'EMPLOYEE'<br /> START WITH PORTAL_OBJNAME = &amp;1<br />CONNECT BY PRIOR PORTAL_PRNTOBJNAME = PORTAL_OBJNAME )<br />SELECT PATH<br />  FROM PORTAL_REGISTRY<br /> WHERE LVL = (<br />SELECT MAX(LVL)<br />  FROM PORTAL_REGISTRY )
<div></div>
