---
layout: post
title: Understanding the USEEDIT field in PSRECFIELD
date: 2009-05-21 01:41:00.000000000 +10:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- http://schemas.google.com/blogger/2008/kind#post
tags: []
meta:
  blogger_blog: capital-it.blogspot.com
  blogger_author: Michael Nitschke
  blogger_0c9a3d51488c214aefd1a54a659341d6_permalink: '9080361250011591708'
author:
  login: evlpanda
  email: m.nitschke@gmail.com
  display_name: Michael Nitschke
  first_name: ''
  last_name: ''
---
<p>USEEDIT is a binary number stored as a Decimal. I forget the term right now but each bit represents a field attribute such as List field, Required etc.</p>
<p><strong>edit: new version</strong></p>
<p>
<pre style="background-color:#eeeeee;border-bottom:#999999 1px dashed;border-left:#999999 1px dashed;border-right:#999999 1px dashed;border-top:#999999 1px dashed;color:black;font-family:Andale Mono, Lucida Console, Monaco, fixed, monospace;font-size:12px;line-height:14px;overflow:auto;width:100%;padding:5px;"><code>--1 1 Key<br />--2 2 Duplicate Order Key<br />--3 4 System Maintained<br />--4 8 Audit Field Add<br />--5 16 Alternate Search Key<br />--6 32 List Box Item<br />--7 64 Descending Key<br />--8 128 Audit Field Change<br />--9 256 Required<br />--10 512 Translate Table Edit<br />--11 102 Audit Field Delete<br />--12 2048 Search Key<br />--13 4096 Reasonable Date Edit<br />--14 8192 Yes/No Edit<br />--15 16384 Prompt Table Edit<br />--16 32768 Auto-Update<br />--17 65536 Unknown<br />--18 131072 Unknown<br />--19 262144 From Search Field<br />--20 524288 Through Search Field<br />--21 1048576 1/0 Table Edit<br />--22 2097152 Disable Advanced Search Options<br />--23 4194304 Unknown<br />--24 8388608 Unknown<br />--25 16777216 Default Search Field<br />--26 33554432 Unknown<br />--27 67108864 Unknown<br />--28 134217728 Unknown<br />--29 268435456 Search Edit<br />--30 536870912 Unknown<br />--31 1073741824 Unknown<br /><br />SELECT A.FIELDNAME<br />FROM PSRECFIELDDB A<br />-- Oracle: WHERE bitand(A.USEEDIT, 512) &gt; 0<br />-- SQL Server: WHERE A.USEEDIT &amp; 512 &gt; 0<br />-- DB2: WHERE (USEEDIT/512)/2  (USEEDIT/512)/2.0.<br />WHERE (USEEDIT/512)/2  (USEEDIT/512)/2.0.<br />AND A.FIELDNAME not in (SELECT FIELDNAME FROM PSXLATITEM)<br />GROUP BY A.FIELDNAME<br />ORDER BY A.FIELDNAME<br /></code></pre>
<p>edit: here is a nicer code snippet. This finds all fields marked as a XLAT field, that actually aren't : \ 512 is the key.<br />SELECT A.FIELDNAME<br />FROM PSRECFIELDDB A<br />WHERE bitand(A.USEEDIT, 512) &gt; 0<br />AND A.FIELDNAME not in (SELECT FIELDNAME FROM PSXLATITEM)<br />GROUP BY A.FIELDNAME<br />ORDER BY A.FIELDNAME</p>
<p>Also handy</p>
<p>SELECT A.RECNAME, A.FIELDNAME<br />FROM PSRECFIELDDB A<br />WHERE bitand(A.USEEDIT, 512) &gt; 0<br />AND A.FIELDNAME not in (SELECT FIELDNAME FROM PSXLATITEM)<br />ORDER BY A.RECNAME;</p>
<p>___</p>
<p>Following is a snippet of code I have blatantly copied from a fantastic Blog I found while researching the problem. http://xtrahot.chili-mango.net/</p>
<p><span class="Apple-style-span"><span class="Apple-style-span" style="font-size:small;">SELECT<br />A.RECNAME,<br />A.FIELDNAME,<br />CASE<br />WHEN B.FIELDTYPE = 0 THEN<br />'CHAR'<br />WHEN B.FIELDTYPE = 1 THEN<br />'LONG CHAR'<br />WHEN B.FIELDTYPE = 2 THEN<br />'NUMBER'<br />WHEN B.FIELDTYPE = 3 THEN<br />'SIGNED NBR'<br />WHEN B.FIELDTYPE = 4 THEN<br />'DATE'<br />WHEN B.FIELDTYPE = 5 THEN<br />'TIME'<br />WHEN B.FIELDTYPE = 6 THEN<br />'DATETIME'<br />WHEN B.FIELDTYPE = 7<br />OR B.FIELDTYPE = 8 THEN<br />'IMAGE'<br />ELSE NULL<br />END AS FIELDTYPE,<br />CASE<br />WHEN B.FIELDTYPE = 2<br />OR B.FIELDTYPE = 3 THEN<br />TRIM(TO_CHAR(B.LENGTH)) || '.' || TO_CHAR(B.DECIMALPOS)<br />ELSE TO_CHAR(B.LENGTH)<br />END AS FLDLEN,<br />CASE<br />WHEN bitand(A.USEEDIT, 256) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS REQ,<br />CASE<br />WHEN bitand(A.USEEDIT, 1) &gt; 0 THEN<br />'KEY'<br />WHEN bitand(A.USEEDIT, 2) &gt; 0 THEN<br />'DUP'<br />WHEN bitand(A.USEEDIT, 16) &gt; 0 THEN<br />'ALT'<br />ELSE NULL<br />END AS KEY_TYPE,<br />CASE<br />WHEN bitand(A.USEEDIT, 64) &gt; 0 THEN<br />'DESC'<br />WHEN ( bitand(A.USEEDIT, 1) &gt; 0<br />OR bitand(A.USEEDIT, 2) &gt; 0<br />OR bitand(A.USEEDIT, 16) &gt; 0 )<br />AND bitand(A.USEEDIT, 64) = 0 THEN<br />'ASC'<br />ELSE NULL<br />END AS DIR,<br />CASE<br />WHEN bitand(A.USEEDIT, 2048) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS SRCH,<br />CASE<br />WHEN bitand(A.USEEDIT, 32) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS LIST,<br />CASE<br />WHEN bitand(A.USEEDIT, 4) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS SYS,<br />CASE<br />WHEN TRIM(A.DEFRECNAME) = '' THEN<br />A.DEFFIELDNAME<br />ELSE<br />TRIM(A.DEFRECNAME) || '.' || A.DEFFIELDNAME<br />END AS DEFAULT_VALUE,<br />CASE<br />WHEN bitand(A.USEEDIT, 8) &gt; 0<br />AND bitand(A.USEEDIT, 128) = 0<br />AND bitand(A.USEEDIT, 1024) = 0 THEN<br />'A'<br />WHEN bitand(A.USEEDIT, 8) &gt; 0<br />AND bitand(A.USEEDIT, 128) &gt; 0<br />AND bitand(A.USEEDIT, 1024) = 0 THEN<br />'AC'<br />WHEN bitand(A.USEEDIT, 8) &gt; 0<br />AND bitand(A.USEEDIT, 128) &gt; 0<br />AND bitand(A.USEEDIT, 1024) &gt; 0 THEN<br />'ACD'<br />WHEN bitand(A.USEEDIT, 8) = 0<br />AND bitand(A.USEEDIT, 128) &gt; 0<br />AND bitand(A.USEEDIT, 1024) = 0 THEN<br />'C'<br />WHEN bitand(A.USEEDIT, 8) = 0<br />AND bitand(A.USEEDIT, 128) &gt; 0<br />AND bitand(A.USEEDIT, 1024) &gt; 0 THEN<br />'CD'<br />WHEN bitand(A.USEEDIT, 8) = 0<br />AND bitand(A.USEEDIT, 128) = 0<br />AND bitand(A.USEEDIT, 1024) &gt; 0 THEN<br />'D'<br />ELSE NULL<br />END AS AUDT,<br />CASE<br />WHEN bitand(A.USEEDIT, 16384) &gt; 0 THEN<br />'PROMPT'<br />WHEN bitand(A.USEEDIT, 512) &gt; 0 THEN<br />'XLAT'<br />WHEN bitand(A.USEEDIT, 8192) &gt; 0 THEN<br />'Y/N'<br />ELSE NULL<br />END AS EDIT,<br />A.EDITTABLE AS PROMPT_TABLE,<br />A.SETCNTRLFLD AS SET_CONTROL_FLD,<br />CASE<br />WHEN bitand(A.USEEDIT, 4096) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS REASONABLE_DT,<br />CASE<br />WHEN bitand(A.USEEDIT, 32768) &gt; 0 THEN<br />'YES'<br />ELSE 'NO'<br />END AS AUTO_UPDT,<br />CASE<br />WHEN bitand(A.USEEDIT, 262144) &gt; 0 THEN<br />'FROM'<br />WHEN bitand(A.USEEDIT, 524288) &gt; 0 THEN<br />'THROUGH'<br />ELSE NULL<br />END AS SEARCH_FIELD,<br />CASE<br />WHEN A.SUBRECORD = 'Y' THEN<br />'YES'<br />ELSE 'NO'<br />END AS SUBRECORD,<br />A.LASTUPDDTTM,<br />A.LASTUPDOPRID<br />FROM PSRECFIELD A,<br />PSDBFIELD B<br />WHERE A.RECNAME = :1<br />AND A.FIELDNAME = B.FIELDNAME<br />ORDER BY FIELDNUM</span></span></p>
