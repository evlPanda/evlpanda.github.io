<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>XML / BI Publisher Example, using XML File as the Data Source | The PeopleSoft Experience</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="XML / BI Publisher Example, using XML File as the Data Source" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Note that using a Data Source of &quot;XMLDoc&quot; or &quot;RowSet&quot; has been deprecated. If you are going to create a new XML Publisher Report you are going to have to use a data source of &quot;XML File&quot; or &quot;PS Query&quot;. This is probably a good way of going about it anyway because you need to create the XML and XSD files before you can create the template anyway (unless you want to make them by hand). Following is a simple example that could use some flourish, but illustrates the method clearly. /* Super simple example of creating a XML Publisher report based on RowSet data. Note that producing reports from RowSet data or XMLDoc data has been deprecated. This example uses a Data Source of &#39;XML File&#39;. */import PSXP_XMLGEN:*;import PSXP_RPTDEFNMANAGER:*;/* Create Rowset(s) data for the report, however you need. */Local Rowset &amp;rsData = CreateRowset(Record.AMS_SOA_PROG_VW);&amp;rsData.Fill(&quot;WHERE EMPLID LIKE &#39;3064%&#39;&quot;);Local string &amp;sFileNameXSD = &quot;Rowset.xsd&quot;;Local string &amp;sFileNameXML = &quot;Rowset.xml&quot;;Local string &amp;sRptDefn = &quot;AMS_SOA_XML&quot;;Local string &amp;sReportTemplate = &quot;AMS_SOA_XML_1&quot;;/* Create XSD file. */Local PSXP_XMLGEN:RowSetDS &amp;oXML_GENERATOR = create psxp_xmlgen:RowSetDS();Local string &amp;my_schema = &amp;oXML_GENERATOR.getXSDSchema(&amp;rsData);Local File &amp;XSD_File = GetFile(&amp;sFileNameXSD, &quot;W&quot;);&amp;XSD_File.WriteLine(&amp;my_schema);&amp;XSD_File.Close();/* Create XML file. */Local string &amp;my_xml = &amp;oXML_GENERATOR.getXMLData(&amp;rsData, &quot;&quot;);Local File &amp;XML_File = GetFile(&amp;sFileNameXML, &quot;W&quot;);&amp;XML_File.WriteLine(&amp;my_xml);Local string &amp;xmlFileName = &amp;XML_File.Name; /* File.Name not available after File.Close() */&amp;XML_File.Close();/* Generate the report. */&amp;oRptDefn = create PSXP_RPTDEFNMANAGER:ReportDefn(&amp;sRptDefn); /* report definition name */&amp;oRptDefn.Get();&amp;oRptDefn.SetRuntimeDataXMLFile(&amp;xmlFileName); /* Connect report and data. */&amp;oRptDefn.ProcessReport(&amp;sRptTemplate, %Language_User, %Date, &quot;&quot;); /* report&#39;s template ID */&amp;oRptDefn.OutDestination = %FilePath;/* Publish to Report Manager. */&amp;oRptDefn.Publish(&quot;&quot;, &quot;&quot;, &quot;&quot;, AMS_SOA_AET.PROCESS_INSTANCE);" />
<meta property="og:description" content="Note that using a Data Source of &quot;XMLDoc&quot; or &quot;RowSet&quot; has been deprecated. If you are going to create a new XML Publisher Report you are going to have to use a data source of &quot;XML File&quot; or &quot;PS Query&quot;. This is probably a good way of going about it anyway because you need to create the XML and XSD files before you can create the template anyway (unless you want to make them by hand). Following is a simple example that could use some flourish, but illustrates the method clearly. /* Super simple example of creating a XML Publisher report based on RowSet data. Note that producing reports from RowSet data or XMLDoc data has been deprecated. This example uses a Data Source of &#39;XML File&#39;. */import PSXP_XMLGEN:*;import PSXP_RPTDEFNMANAGER:*;/* Create Rowset(s) data for the report, however you need. */Local Rowset &amp;rsData = CreateRowset(Record.AMS_SOA_PROG_VW);&amp;rsData.Fill(&quot;WHERE EMPLID LIKE &#39;3064%&#39;&quot;);Local string &amp;sFileNameXSD = &quot;Rowset.xsd&quot;;Local string &amp;sFileNameXML = &quot;Rowset.xml&quot;;Local string &amp;sRptDefn = &quot;AMS_SOA_XML&quot;;Local string &amp;sReportTemplate = &quot;AMS_SOA_XML_1&quot;;/* Create XSD file. */Local PSXP_XMLGEN:RowSetDS &amp;oXML_GENERATOR = create psxp_xmlgen:RowSetDS();Local string &amp;my_schema = &amp;oXML_GENERATOR.getXSDSchema(&amp;rsData);Local File &amp;XSD_File = GetFile(&amp;sFileNameXSD, &quot;W&quot;);&amp;XSD_File.WriteLine(&amp;my_schema);&amp;XSD_File.Close();/* Create XML file. */Local string &amp;my_xml = &amp;oXML_GENERATOR.getXMLData(&amp;rsData, &quot;&quot;);Local File &amp;XML_File = GetFile(&amp;sFileNameXML, &quot;W&quot;);&amp;XML_File.WriteLine(&amp;my_xml);Local string &amp;xmlFileName = &amp;XML_File.Name; /* File.Name not available after File.Close() */&amp;XML_File.Close();/* Generate the report. */&amp;oRptDefn = create PSXP_RPTDEFNMANAGER:ReportDefn(&amp;sRptDefn); /* report definition name */&amp;oRptDefn.Get();&amp;oRptDefn.SetRuntimeDataXMLFile(&amp;xmlFileName); /* Connect report and data. */&amp;oRptDefn.ProcessReport(&amp;sRptTemplate, %Language_User, %Date, &quot;&quot;); /* report&#39;s template ID */&amp;oRptDefn.OutDestination = %FilePath;/* Publish to Report Manager. */&amp;oRptDefn.Publish(&quot;&quot;, &quot;&quot;, &quot;&quot;, AMS_SOA_AET.PROCESS_INSTANCE);" />
<link rel="canonical" href="http://localhost:4000/%22xml%20publisher%22/2011/05/02/xml-bi-publisher-example-using-xml-file-as-the-data-source.html" />
<meta property="og:url" content="http://localhost:4000/%22xml%20publisher%22/2011/05/02/xml-bi-publisher-example-using-xml-file-as-the-data-source.html" />
<meta property="og:site_name" content="The PeopleSoft Experience" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-05-02T05:26:00+10:00" />
<script type="application/ld+json">
{"description":"Note that using a Data Source of &quot;XMLDoc&quot; or &quot;RowSet&quot; has been deprecated. If you are going to create a new XML Publisher Report you are going to have to use a data source of &quot;XML File&quot; or &quot;PS Query&quot;. This is probably a good way of going about it anyway because you need to create the XML and XSD files before you can create the template anyway (unless you want to make them by hand). Following is a simple example that could use some flourish, but illustrates the method clearly. /* Super simple example of creating a XML Publisher report based on RowSet data. Note that producing reports from RowSet data or XMLDoc data has been deprecated. This example uses a Data Source of &#39;XML File&#39;. */import PSXP_XMLGEN:*;import PSXP_RPTDEFNMANAGER:*;/* Create Rowset(s) data for the report, however you need. */Local Rowset &amp;rsData = CreateRowset(Record.AMS_SOA_PROG_VW);&amp;rsData.Fill(&quot;WHERE EMPLID LIKE &#39;3064%&#39;&quot;);Local string &amp;sFileNameXSD = &quot;Rowset.xsd&quot;;Local string &amp;sFileNameXML = &quot;Rowset.xml&quot;;Local string &amp;sRptDefn = &quot;AMS_SOA_XML&quot;;Local string &amp;sReportTemplate = &quot;AMS_SOA_XML_1&quot;;/* Create XSD file. */Local PSXP_XMLGEN:RowSetDS &amp;oXML_GENERATOR = create psxp_xmlgen:RowSetDS();Local string &amp;my_schema = &amp;oXML_GENERATOR.getXSDSchema(&amp;rsData);Local File &amp;XSD_File = GetFile(&amp;sFileNameXSD, &quot;W&quot;);&amp;XSD_File.WriteLine(&amp;my_schema);&amp;XSD_File.Close();/* Create XML file. */Local string &amp;my_xml = &amp;oXML_GENERATOR.getXMLData(&amp;rsData, &quot;&quot;);Local File &amp;XML_File = GetFile(&amp;sFileNameXML, &quot;W&quot;);&amp;XML_File.WriteLine(&amp;my_xml);Local string &amp;xmlFileName = &amp;XML_File.Name; /* File.Name not available after File.Close() */&amp;XML_File.Close();/* Generate the report. */&amp;oRptDefn = create PSXP_RPTDEFNMANAGER:ReportDefn(&amp;sRptDefn); /* report definition name */&amp;oRptDefn.Get();&amp;oRptDefn.SetRuntimeDataXMLFile(&amp;xmlFileName); /* Connect report and data. */&amp;oRptDefn.ProcessReport(&amp;sRptTemplate, %Language_User, %Date, &quot;&quot;); /* report&#39;s template ID */&amp;oRptDefn.OutDestination = %FilePath;/* Publish to Report Manager. */&amp;oRptDefn.Publish(&quot;&quot;, &quot;&quot;, &quot;&quot;, AMS_SOA_AET.PROCESS_INSTANCE);","@type":"BlogPosting","url":"http://localhost:4000/%22xml%20publisher%22/2011/05/02/xml-bi-publisher-example-using-xml-file-as-the-data-source.html","headline":"XML / BI Publisher Example, using XML File as the Data Source","dateModified":"2011-05-02T05:26:00+10:00","datePublished":"2011-05-02T05:26:00+10:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/%22xml%20publisher%22/2011/05/02/xml-bi-publisher-example-using-xml-file-as-the-data-source.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The PeopleSoft Experience" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The PeopleSoft Experience</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">XML / BI Publisher Example, using XML File as the Data Source</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2011-05-02T05:26:00+10:00" itemprop="datePublished">May 2, 2011
      </time>â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{"login"=>"evlpanda", "email"=>"m.nitschke@gmail.com", "display_name"=>"Michael Nitschke", "first_name"=>"", "last_name"=>""}</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Note that using a Data Source of "XMLDoc" or "RowSet" has been deprecated. If you are going to create a new XML Publisher Report you are going to have to use a data source of "XML File" or "PS Query".</p>
<p>This is probably a good way of going about it anyway because you need to create the XML and XSD files before you can create the template anyway (unless you want to make them by hand).</p>
<p>Following is a simple example that could use some flourish, but illustrates the method clearly.</p>
<pre style="background-color:#eeeeee;border:1px dashed #999999;color:black;font-family:Andale Mono, Lucida Console, Monaco, fixed, monospace;font-size:12px;line-height:14px;overflow:auto;padding:5px;width:100%;"><code><br /><br />/* Super simple example of creating a XML Publisher report based on RowSet data.<br />   Note that producing reports from RowSet data or XMLDoc data has been deprecated.<br />   This example uses a Data Source of 'XML File'. */<br /><br />import PSXP_XMLGEN:*;<br />import PSXP_RPTDEFNMANAGER:*;<br /><br /><br />/* Create Rowset(s) data for the report, however you need. */<br />Local Rowset &amp;rsData = CreateRowset(Record.AMS_SOA_PROG_VW);<br />&amp;rsData.Fill("WHERE EMPLID LIKE '3064%'");<br /><br /><br />Local string &amp;sFileNameXSD = "Rowset.xsd";<br />Local string &amp;sFileNameXML = "Rowset.xml";<br />Local string &amp;sRptDefn = "AMS_SOA_XML";<br />Local string &amp;sReportTemplate = "AMS_SOA_XML_1";<br /><br />/* Create XSD file. */<br />Local PSXP_XMLGEN:RowSetDS &amp;oXML_GENERATOR = create psxp_xmlgen:RowSetDS();<br />Local string &amp;my_schema = &amp;oXML_GENERATOR.getXSDSchema(&amp;rsData);<br />Local File &amp;XSD_File = GetFile(&amp;sFileNameXSD, "W");<br />&amp;XSD_File.WriteLine(&amp;my_schema);<br />&amp;XSD_File.Close();<br /><br />/* Create XML file. */<br />Local string &amp;my_xml = &amp;oXML_GENERATOR.getXMLData(&amp;rsData, "");<br />Local File &amp;XML_File = GetFile(&amp;sFileNameXML, "W");<br />&amp;XML_File.WriteLine(&amp;my_xml);<br />Local string &amp;xmlFileName = &amp;XML_File.Name; /* File.Name not available after File.Close() */<br />&amp;XML_File.Close();<br /><br /><br />/* Generate the report. */<br />&amp;oRptDefn = create PSXP_RPTDEFNMANAGER:ReportDefn(&amp;sRptDefn); /* report definition name */<br />&amp;oRptDefn.Get();<br />&amp;oRptDefn.SetRuntimeDataXMLFile(&amp;xmlFileName); /* Connect report and data. */<br />&amp;oRptDefn.ProcessReport(&amp;sRptTemplate, %Language_User, %Date, ""); /* report's template ID */<br />&amp;oRptDefn.OutDestination = %FilePath;<br /><br />/* Publish to Report Manager. */<br />&amp;oRptDefn.Publish("", "", "", AMS_SOA_AET.PROCESS_INSTANCE);<br /><br /><br /></code></pre>

  </div><a class="u-url" href="/%22xml%20publisher%22/2011/05/02/xml-bi-publisher-example-using-xml-file-as-the-data-source.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The PeopleSoft Experience</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The PeopleSoft Experience</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/evlPanda"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">evlPanda</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Musings, chit-chat, and sometimes useful stuff related to PeopleSoft, especially PeopleCode.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
