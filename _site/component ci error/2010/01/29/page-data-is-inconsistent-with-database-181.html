<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Page data is inconsistent with database (18,1) | The PeopleSoft Experience</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Page data is inconsistent with database (18,1)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&quot;Page data is inconsistent with database (18,1)&quot; I recently came across this during a call to a Component Interface, CI.HCR_PERSONAL_DATA_SRV, that interfaced with a rather large Component, Component.PERSONAL_DATA.&lt;/p&gt; (Interestingly when I tested the CI stand-alone it worked fine, never figured out why/no time.&lt;/span&gt;) I created a Project that contained *all the objects for Component.PERSONAL_DATA. This can take some time if each page has sub-pages, and in turn they too have sub-pages. Be sure to include each record for each page, and each record&#39;s associated PeopleCode.See this post about how to do a lot of this via a SQL script or similar. I first checked that all the tables and views for the component had been built correctly after a recent patch. They were fine. Next I checked PeopleCode, namely SavePreChange and SavePostChange as these are the events most likely to cause the given error. Recall that this error happens when data in the buffer pre save and data in the database post save do not match. I simply went through each piece of code and remarked out likely looking code or entire sections... ...until the error stopped occuring. This pointed me to some custom code on SavePost that was updating a row via SQLExec on table x, new delivered code from the patch was updating table x in the buffer in SavePre. Thus the error. All-in-all took me a lot longer than it took to write this post." />
<meta property="og:description" content="&quot;Page data is inconsistent with database (18,1)&quot; I recently came across this during a call to a Component Interface, CI.HCR_PERSONAL_DATA_SRV, that interfaced with a rather large Component, Component.PERSONAL_DATA.&lt;/p&gt; (Interestingly when I tested the CI stand-alone it worked fine, never figured out why/no time.&lt;/span&gt;) I created a Project that contained *all the objects for Component.PERSONAL_DATA. This can take some time if each page has sub-pages, and in turn they too have sub-pages. Be sure to include each record for each page, and each record&#39;s associated PeopleCode.See this post about how to do a lot of this via a SQL script or similar. I first checked that all the tables and views for the component had been built correctly after a recent patch. They were fine. Next I checked PeopleCode, namely SavePreChange and SavePostChange as these are the events most likely to cause the given error. Recall that this error happens when data in the buffer pre save and data in the database post save do not match. I simply went through each piece of code and remarked out likely looking code or entire sections... ...until the error stopped occuring. This pointed me to some custom code on SavePost that was updating a row via SQLExec on table x, new delivered code from the patch was updating table x in the buffer in SavePre. Thus the error. All-in-all took me a lot longer than it took to write this post." />
<link rel="canonical" href="http://localhost:4000/component%20ci%20error/2010/01/29/page-data-is-inconsistent-with-database-181.html" />
<meta property="og:url" content="http://localhost:4000/component%20ci%20error/2010/01/29/page-data-is-inconsistent-with-database-181.html" />
<meta property="og:site_name" content="The PeopleSoft Experience" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-01-29T01:23:00+11:00" />
<script type="application/ld+json">
{"description":"&quot;Page data is inconsistent with database (18,1)&quot; I recently came across this during a call to a Component Interface, CI.HCR_PERSONAL_DATA_SRV, that interfaced with a rather large Component, Component.PERSONAL_DATA.&lt;/p&gt; (Interestingly when I tested the CI stand-alone it worked fine, never figured out why/no time.&lt;/span&gt;) I created a Project that contained *all the objects for Component.PERSONAL_DATA. This can take some time if each page has sub-pages, and in turn they too have sub-pages. Be sure to include each record for each page, and each record&#39;s associated PeopleCode.See this post about how to do a lot of this via a SQL script or similar. I first checked that all the tables and views for the component had been built correctly after a recent patch. They were fine. Next I checked PeopleCode, namely SavePreChange and SavePostChange as these are the events most likely to cause the given error. Recall that this error happens when data in the buffer pre save and data in the database post save do not match. I simply went through each piece of code and remarked out likely looking code or entire sections... ...until the error stopped occuring. This pointed me to some custom code on SavePost that was updating a row via SQLExec on table x, new delivered code from the patch was updating table x in the buffer in SavePre. Thus the error. All-in-all took me a lot longer than it took to write this post.","@type":"BlogPosting","url":"http://localhost:4000/component%20ci%20error/2010/01/29/page-data-is-inconsistent-with-database-181.html","headline":"Page data is inconsistent with database (18,1)","dateModified":"2010-01-29T01:23:00+11:00","datePublished":"2010-01-29T01:23:00+11:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/component%20ci%20error/2010/01/29/page-data-is-inconsistent-with-database-181.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The PeopleSoft Experience" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The PeopleSoft Experience</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Page data is inconsistent with database (18,1)</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-01-29T01:23:00+11:00" itemprop="datePublished">Jan 29, 2010
      </time>â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{"login"=>"evlpanda", "email"=>"m.nitschke@gmail.com", "display_name"=>"Michael Nitschke", "first_name"=>"", "last_name"=>""}</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><span style="font-size:130%;">"Page data is inconsistent with database (18,1)"</span></p>
<p>I recently came across this during a call to a Component Interface, CI.HCR_PERSONAL_DATA_SRV, that interfaced with a rather large Component, Component.PERSONAL_DATA.<span style="font-style:italic;"></p>
<p>(Interestingly when I tested the CI stand-alone it worked fine, never figured out why/no time.</span>)</p>
<p>I created a Project that contained *all the objects for Component.PERSONAL_DATA. This can take some time if each page has sub-pages, and in turn they too have sub-pages. Be sure to include each record for each page, and each record's associated PeopleCode.<span style="text-decoration:underline;"><br /></span><a href="http://capital-it.blogspot.com/2010/01/inserting-peoplecode-into-project-via.html">See this post about how to do a lot of this via a SQL script or similar</a>.</p>
<p>I first checked that all the tables and views for the component had been built correctly after <span style="font-weight:bold;">a recent patch</span>. They were fine.</p>
<p>Next I checked PeopleCode, namely <span style="font-weight:bold;">SavePreChange </span>and <span style="font-weight:bold;">SavePostChange </span>as these are the events most likely to cause the given error. Recall that this error happens <span style="font-style:italic;">when data in the <span style="font-weight:bold;">buffer </span>pre save and data in the <span style="font-weight:bold;">database </span>post save do not match</span>. I simply went through each piece of code and remarked out likely looking code or entire sections...</p>
<p>...until the error stopped occuring. This pointed me to some custom code on SavePost that was updating a row via SQLExec on table x, new delivered code from the patch was updating table x in the buffer in SavePre. Thus the error. All-in-all took me a lot longer than it took to write this post.</p>

  </div><a class="u-url" href="/component%20ci%20error/2010/01/29/page-data-is-inconsistent-with-database-181.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The PeopleSoft Experience</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The PeopleSoft Experience</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/evlPanda"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">evlPanda</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Musings, chit-chat, and sometimes useful stuff related to PeopleSoft, especially PeopleCode.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
